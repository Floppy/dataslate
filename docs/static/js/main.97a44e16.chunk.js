(this.webpackJsonpscriptorum=this.webpackJsonpscriptorum||[]).push([[0],{106:function(e,t){},108:function(e,t){},142:function(e,t){},143:function(e,t){},188:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(82),o=r.n(l),c=(r(95),r(83)),s=r(84),i=r(88),m=r(85),u=r(89);var d=function(e){return n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("th",null,"M"),n.a.createElement("th",null,"WS"),n.a.createElement("th",null,"BS"),n.a.createElement("th",null,"S"),n.a.createElement("th",null,"T"),n.a.createElement("th",null,"W"),n.a.createElement("th",null,"A"),n.a.createElement("th",null,"Ld"),n.a.createElement("th",null,"Sv")),n.a.createElement("tr",null,n.a.createElement("td",null,e.movement,'"'),n.a.createElement("td",null,e.weapon_skill,"+"),n.a.createElement("td",null,e.ballistic_skill,"+"),n.a.createElement("td",null,e.strength),n.a.createElement("td",null,e.toughness),n.a.createElement("td",null,e.wounds),n.a.createElement("td",null,e.attacks),n.a.createElement("td",null,e.leadership),n.a.createElement("td",null,e.save,"+")))};function p(e){return n.a.createElement("span",{className:"specialism"},{combat:"\u2694\ufe0f",comms:"\ud83d\udcde",demolitions:"\ud83d\udca3",ferocity:"\ud83e\udd96",fortitude:"\ud83d\udee1\ufe0f",heavy:"\ud83d\udca5",leadership:"\ud83c\udfa9",logistics:"\ud83d\ude9a",medic:"\u2695\ufe0f",melee:"\u2694\ufe0f",psyker:"\ud83e\udde0",scout:"\ud83d\udd26",shooting:"\ud83d\udd2b",stealth:"\ud83d\udc7b",strategist:"\ud83d\uddfa\ufe0f",strength:"\ud83d\udcaa",sniper:"\ud83c\udfaf",veteran:"\ud83d\udc74",zealot:"\ud83d\ude24"}[e.specialism.toLowerCase()])}function h(e){return n.a.createElement("span",{className:"category"},{commander:"\ud83d\udc51",leader:"\ud83c\udfa9",specialist:""}[e.category.toLowerCase()])}var f=function(e){return n.a.createElement("div",{className:"model"},n.a.createElement("h1",null,e.model.category&&n.a.createElement(h,{category:e.model.category})," ",e.model.specialism&&n.a.createElement(p,{specialism:e.model.specialism})," ",e.model.name&&n.a.createElement("em",null,e.model.name," - "),e.model.type),n.a.createElement("div",null,e.model.faction),n.a.createElement("div",null,"Keywords: ",e.model.keywords.map((function(e){return n.a.createElement("span",{className:"keyword"},e)}))),n.a.createElement(d,e.model.stats),n.a.createElement("dl",null,e.model.abilities.map((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("dt",null,e.name),n.a.createElement("dd",null,e.description))}))),e.model.keywords.indexOf("Psyker")>0&&n.a.createElement("h2",null,"Psychic"),n.a.createElement("h2",null,"Fight"),n.a.createElement("h2",null,"Shoot"),n.a.createElement("ul",null,e.model.weapons.map((function(e){return n.a.createElement("li",null,e.name)}))),n.a.createElement("h2",null,"Morale"))},g=r(87),E=r(98),y=r(99),v=r(100)([]),w=r(185).DOMParser,b=r(187).useNamespaces({roster:"http://www.battlescribe.net/schema/rosterSchema"}),k=function(e,t){var r=b("roster:profiles/roster:profile[@typeName='Model']//roster:characteristic[@name='".concat(e,"']"),t);return r.length>0?parseInt(r[0].childNodes[0].nodeValue):""},S=function(e,t){var r=b("roster:characteristics/roster:characteristic[@name='".concat(e,"']"),t);return r.length>0?parseInt(r[0].childNodes[0].nodeValue):""},A=function(e){return{name:e.getAttribute("name"),description:b("roster:characteristics/roster:characteristic[@name='Description']",e)[0].childNodes[0].nodeValue}},N=function(e){return{name:e.getAttribute("name"),range:S("Range",e),strength:S("S",e)}},F=function(e){var t=b("roster:profiles/roster:profile[@typeName='Ability']",e).map(A),r=b("roster:selections/roster:selection/roster:profiles/roster:profile[@typeName='Weapon']",e).map(N);return{name:e.getAttribute("customName"),type:e.getAttribute("name"),category:b("roster:categories/roster:category[@primary='true']",e)[0].getAttribute("name"),stats:{movement:k("M",e),weapon_skill:k("WS",e),ballistic_skill:k("BS",e),strength:k("S",e),toughness:k("T",e),wounds:k("W",e),attacks:k("A",e),leadership:k("Ld",e),save:k("Sv",e)},abilities:t,weapons:r,faction:b("roster:categories/roster:category[@primary='false' and starts-with(@name,'Faction: ')]",e)[0].getAttribute("name"),keywords:b("roster:categories/roster:category[@primary='false' and not(starts-with(@name,'Faction: '))]",e).map((function(e){return e.getAttribute("name")}))}},O=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(i.a)(this,Object(m.a)(t).call(this,e))).parseFile=function(e){var t=[],a=(new w).parseFromString(e.target.result),n=!0,l=!1,o=void 0;try{for(var c,s=b("//roster:force/roster:categories/roster:category",a)[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value,m=i.getAttribute("entryId"),u=(E.singular(i.getAttribute("name")),!0),d=!1,p=void 0;try{for(var h,f=b("//roster:selection[@type='model' and roster:categories/roster:category/@entryId='".concat(m,"']"),a)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var g=h.value;t.push(F(g))}}catch(k){d=!0,p=k}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}}}catch(k){l=!0,o=k}finally{try{n||null==s.return||s.return()}finally{if(l)throw o}}r.setState({models:y.uniqBy(t,v.hash)})},r.fileHandler=function(e){e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onloadend=r.parseFile,t.readAsText(e)}))},r.state={models:[]},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{onDrop:this.fileHandler},(function(e){var t=e.getRootProps,r=e.getInputProps;return n.a.createElement("section",null,n.a.createElement("div",t(),n.a.createElement("input",r()),n.a.createElement("p",null,"Drop a .ros file here, or click to select one")))})),y.sortBy(this.state.models,(function(e){return[null==e.category,e.category,e.type]})).map((function(e){return n.a.createElement(f,{model:e})})))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,r){e.exports=r(188)},95:function(e,t,r){}},[[90,1,2]]]);
//# sourceMappingURL=main.97a44e16.chunk.js.map