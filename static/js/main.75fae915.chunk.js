(this.webpackJsonpdataslate=this.webpackJsonpdataslate||[]).push([[0],{216:function(e,t,n){},250:function(e,t){},252:function(e,t){},262:function(e,t){},264:function(e,t){},290:function(e,t){},291:function(e,t){},296:function(e,t){},298:function(e,t){},305:function(e,t){},324:function(e,t){},398:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(53),r=n.n(s),i=(n(216),n(33)),c=n.n(i),o=n(54),l=n(208),d=n(11),h=n(207),j=n(403),u=n(0);var b=function(){return Object(u.jsxs)(j.a,{children:[Object(u.jsx)("h1",{children:"Dataslate"}),Object(u.jsx)("p",{className:"lead",children:"Printable datasheets for Warhammer 40,000: Kill Team"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"All the info you need, when you need it"}),Object(u.jsx)("li",{children:"No wasted space for identical models"}),Object(u.jsx)("li",{children:"Designed for print or screen"}),Object(u.jsx)("li",{children:"Clear, uncluttered layout for easy reference"}),Object(u.jsx)("li",{children:"Stats and abilities organised by phase (KT 2018)"})]})]})},m=n(404),p=n(405),x=n(414),O=n(412);var f=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(p.a,{children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{as:"h3",children:"Step 1"}),Object(u.jsxs)(x.a.Body,{style:{minHeight:"12em"},children:[Object(u.jsxs)(x.a.Text,{children:["Build your force in"," ",Object(u.jsx)("a",{href:"https://battlescribe.net/",children:"Battlescribe"}),"."]}),Object(u.jsxs)(x.a.Text,{children:["Supported systems:",Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Kill Team 2018"}),Object(u.jsx)("li",{children:"Kill Team 2021"})]})]})]})]})}),Object(u.jsx)(p.a,{children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{as:"h3",children:"Step 2"}),Object(u.jsx)(x.a.Body,{style:{minHeight:"12em"},children:Object(u.jsx)(h.a,{onDrop:e.onUpload,accept:".ros,.rosz",children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(u.jsxs)(O.a,Object(d.a)(Object(d.a)({variant:"primary"},t()),{},{style:{textAlign:"center"},children:[Object(u.jsx)("input",Object(d.a)({},n())),Object(u.jsx)("p",{children:"Drop your roster file here, or click to select one."}),Object(u.jsx)("p",{children:Object(u.jsx)("em",{children:"(*.rosz and *.ros accepted)"})})]}))}})})]})}),Object(u.jsx)(p.a,{children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{as:"h3",children:"Step 3"}),Object(u.jsxs)(x.a.Body,{style:{minHeight:"12em"},children:[Object(u.jsx)(x.a.Text,{children:"Print your datasheets out, and never forget an ability again!"}),Object(u.jsx)(x.a.Text,{children:"Prepare to dominate your foes!"})]})]})})]}),Object(u.jsxs)("footer",{children:["Built with ",Object(u.jsx)("a",{href:"https://reactjs.org/",children:"React"})," and ",Object(u.jsx)("a",{href:"https://getbootstrap.com",children:"Bootstrap"}),". Icons courtesy of ",Object(u.jsx)("a",{href:"https://killteam.app/",children:"Companion for Kill Team"}),". Released as ",Object(u.jsx)("a",{href:"https://github.com/floppy/dataslate",children:"Open Source"}),", report problems ",Object(u.jsx)("a",{href:"https://github.com/floppy/dataslate/issues/new",children:"on GitHub"}),". Version: ",Object(u.jsx)("em",{children:Object(u.jsx)("a",{href:"https://github.com/floppy/dataslate/tree/".concat("570e4b61"),children:"570e4b61"})})]})]})};var g=function(e){return Object(u.jsxs)("div",{style:{pageBreakAfter:"always"},children:[Object(u.jsxs)("h2",{style:{background:"#FF6F2D",color:"white",padding:"10px",width:"100%",display:"flex"},children:[Object(u.jsxs)(p.a,{children:[e.name," Phase"]}),Object(u.jsx)(p.a,{style:{flexGrow:0,textAlign:"right"},children:e.note&&Object(u.jsx)("small",{children:e.note})})]}),e.children]})},y=n(406),v=n(5),w=n.n(v);var k=function(e){var t=e.phase?e.abilities.filter((function(t){return t.phases&&t.phases.indexOf(e.phase)>=0})):e.abilities.filter((function(e){return e.phases&&0===e.phases.length})),n=e.highlight?"primary":"";return 0===t.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",variant:n,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Ability"}),Object(u.jsx)("th",{children:"Description"})]})}),Object(u.jsx)("tbody",{children:w.a.sortBy(t,["name"]).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.description})]})}))})]})};var S=function(e){return Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"M"}),Object(u.jsx)("th",{children:"WS"}),Object(u.jsx)("th",{children:"BS"}),Object(u.jsx)("th",{children:"S"}),Object(u.jsx)("th",{children:"T"}),Object(u.jsx)("th",{children:"W"}),Object(u.jsx)("th",{children:"A"}),Object(u.jsx)("th",{children:"Ld"}),Object(u.jsx)("th",{children:"Sv"}),Object(u.jsx)("th",{children:"Points"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[e.movement,'"']}),Object(u.jsxs)("td",{children:[e.weapon_skill,"+"]}),Object(u.jsx)("td",{children:isNaN(e.ballistic_skill)?"-":e.ballistic_skill+"+"}),Object(u.jsx)("td",{children:e.strength}),Object(u.jsx)("td",{children:e.toughness}),Object(u.jsx)("td",{children:e.wounds}),Object(u.jsxs)("td",{children:[e.attacks,e.additional_attacks?Object(u.jsxs)("strong",{children:[" +",e.additional_attacks]}):null]}),Object(u.jsx)("td",{children:e.leadership}),Object(u.jsxs)("td",{children:[e.save,"+",e.invulnerable_save?Object(u.jsxs)(u.Fragment,{children:[" / ",Object(u.jsxs)("strong",{children:[e.invulnerable_save,"++"]})]}):null]}),Object(u.jsx)("td",{children:e.points})]})})]})};function A(e){return e.specialism?Object(u.jsx)("img",{className:"specialism",style:{height:"1em",marginRight:"10px"},alt:e.specialism,src:"/icons/".concat(e.specialism.toLowerCase(),".svg")}):Object(u.jsx)(u.Fragment,{})}function N(e){return e.category&&"specialist"!==e.category.toLowerCase()&&"specialist retainer"!==e.category.toLowerCase()?Object(u.jsx)("img",{className:"category",style:{height:"1em",marginRight:"10px"},alt:e.category,src:"/icons/".concat(e.category.toLowerCase(),".svg")}):Object(u.jsx)(u.Fragment,{})}var P=n(203),T=n.n(P);function R(e){var t=w.a.without([e.type,"Specialist"===e.category||"Specialist Retainer"===e.category?e.specialism:e.category],null,void 0,"");return Object(u.jsxs)("h3",{style:{background:"black",color:"white",padding:"5px",display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(u.jsxs)(p.a,{children:[e.category&&e.specialism&&("Specialist"===e.category||"Specialist Retainer"===e.category)&&Object(u.jsx)(A,{specialism:e.specialism}),e.category&&Object(u.jsx)(N,{category:e.category}),e.selected>1&&Object(u.jsxs)("small",{children:[e.selected," \xd7 "]}),Object(u.jsxs)("strong",{children:[t[0]," "]}),Object(u.jsx)("small",{children:w.a.join(w.a.slice(t,1),", ")})]}),e.showSelector&&Object(u.jsx)(p.a,{style:{flexGrow:0},children:Object(u.jsx)(T.a,{value:e.selected,slideStop:function(t){return e.onSelectionChanged&&e.onSelectionChanged(e.uuid,t.target.value)},step:1,max:e.count,min:0})})]})}var F=n(407);function D(e){return Object(u.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.125)",padding:"5px 10px 0px 10px"},children:[e.faction?Object(u.jsx)(F.a,{pill:!0,variant:"primary",className:"mb-2",style:{textTransform:"uppercase",marginRight:"10px"},children:e.faction}):Object(u.jsx)(u.Fragment,{}),e.keywords.map((function(e){return Object(u.jsx)(F.a,{pill:!0,variant:"secondary",className:"mb-2",style:{textTransform:"uppercase",marginRight:"10px"},children:e})}))]})}function B(e){return Object(u.jsxs)(x.a,{className:e.model.selected>0?"included":"excluded",children:[Object(u.jsx)(R,Object(d.a)(Object(d.a)({},e.model),{},{showSelector:!0,onSelectionChanged:e.onSelectionChanged})),Object(u.jsxs)(x.a.Body,{children:["Commander"===e.model.category&&Object(u.jsxs)("div",{children:["Commander specialism: ",Object(u.jsx)("strong",{children:e.model.specialism})]}),Object(u.jsx)("p",{children:e.model.weapons.map((function(e){return e.name})).concat(e.model.wargear.map((function(e){return e.name}))).join(", ")}),Object(u.jsx)(S,Object(d.a)(Object(d.a)({},e.model.stats),{},{points:e.model.points})),Object(u.jsx)(k,{abilities:e.model.abilities,phase:""})]}),Object(u.jsx)(D,{faction:e.model.faction,keywords:e.model.keywords})]})}function C(e){return Object(u.jsxs)(F.a,{pill:!0,variant:"dark",className:"w-100 mb-2 px-0",children:[Object(u.jsx)("div",{className:"text-light",children:e.name}),Object(u.jsxs)("div",{className:"h1",children:[e.value,e.secondaryValue?Object(u.jsx)("small",{children:e.secondaryValue}):Object(u.jsx)(u.Fragment,{})]})]})}function M(e){return Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{sm:"11",children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"movement"})]}),Object(u.jsx)(p.a,{sm:"1",className:"px-1",children:Object(u.jsx)(C,{name:"M",value:"".concat(e.model.stats.movement)})})]})}function V(e){return Object(u.jsx)(m.a,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"scouting"})]})})}function I(e){return e.abilities.filter((function(e){return e.phases&&e.phases.indexOf("scouting")>=0})).length>0}function E(e){return Object(u.jsx)(m.a,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"deployment"})]})})}function U(e){return e.abilities.filter((function(e){return e.phases&&e.phases.indexOf("deployment")>=0})).length>0}function G(e){return Object(u.jsx)(m.a,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"initiative"})]})})}function H(e){return e.abilities.filter((function(e){return e.phases&&e.phases.indexOf("initiative")>=0})).length>0}var W=function(e){return 0===e.powers.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Power"}),Object(u.jsx)("th",{children:"Warp Charge"}),Object(u.jsx)("th",{children:"Description"})]})}),Object(u.jsx)("tbody",{children:w.a.sortBy(e.powers,["name"]).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.charge}),Object(u.jsx)("td",{children:e.description})]})}))})]})};function q(e){return Object(u.jsx)(m.a,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(W,{powers:e.model.psychicPowers}),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"psychic"})]})})}function K(e){return e.psychicPowers.length>0||e.abilities.filter((function(e){return e.phases&&e.phases.indexOf("psychic")>=0})).length>0}var _=function(e){var t="shooting"===e.phase?e.weapons.filter((function(e){return"Melee"!==e.type})):e.weapons.filter((function(e){return"Melee"===e.type}));return 0===t.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Weapon"}),"shooting"===e.phase&&Object(u.jsx)("th",{children:"Range"}),"shooting"===e.phase&&Object(u.jsx)("th",{children:"Type"}),"shooting"===e.phase&&Object(u.jsx)("th",{children:"Shots"}),Object(u.jsx)("th",{children:"S"}),Object(u.jsx)("th",{children:"AP"}),Object(u.jsx)("th",{children:"D"}),Object(u.jsx)("th",{children:"Abilities"})]})}),Object(u.jsx)("tbody",{children:w.a.sortBy(t,["name"]).map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{style:{whiteSpace:"nowrap"},children:t.name}),"shooting"===e.phase&&Object(u.jsxs)("td",{children:[t.range,'"']}),"shooting"===e.phase&&Object(u.jsx)("td",{style:{whiteSpace:"nowrap"},children:t.type}),"shooting"===e.phase&&Object(u.jsx)("td",{style:{whiteSpace:"nowrap"},children:t.shots}),Object(u.jsx)("td",{children:t.strength}),Object(u.jsx)("td",{children:t.armourPiercing}),Object(u.jsx)("td",{children:t.damage}),Object(u.jsx)("td",{children:t.abilities})]})}))})]})};function z(e){return Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{sm:"10",children:[Object(u.jsx)(R,Object(d.a)({},e.model)),L(e.model)&&Object(u.jsx)(_,{weapons:e.model.weapons,phase:"shooting",userStrength:e.model.stats.strength}),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"shooting"})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[L(e.model)&&Object(u.jsx)(C,{name:"BS",value:"".concat(e.model.stats.ballistic_skill),secondaryValue:"+"}),Object(u.jsx)(C,{name:"T",value:"".concat(e.model.stats.toughness)})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[Object(u.jsx)(C,{name:"Sv",value:"".concat(e.model.stats.save),secondaryValue:"+"}),e.model.stats.invulnerable_save?Object(u.jsx)(C,{name:"Inv",value:"".concat(e.model.stats.invulnerable_save),secondaryValue:"+"}):Object(u.jsx)(u.Fragment,{})]})]})}function L(e){return!isNaN(e.stats.ballistic_skill)&&e.weapons.filter((function(e){return"Melee"!==e.type})).length>0}function Y(e){return Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{sm:"10",children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(_,{weapons:e.model.weapons,phase:"fight",userStrength:e.model.stats.strength}),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"fight"})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[Object(u.jsx)(C,{name:"A",value:"".concat(e.model.stats.attacks),secondaryValue:e.model.stats.additional_attacks?"+".concat(e.model.stats.additional_attacks):null}),Object(u.jsx)(C,{name:"T",value:"".concat(e.model.stats.toughness)})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[Object(u.jsx)(C,{name:"WS",value:"".concat(e.model.stats.weapon_skill),secondaryValue:"+"}),Object(u.jsx)(C,{name:"Sv",value:"".concat(e.model.stats.save),secondaryValue:"+"}),e.model.stats.invulnerable_save?Object(u.jsx)(C,{name:"Inv",value:"".concat(e.model.stats.invulnerable_save),secondaryValue:"+"}):Object(u.jsx)(u.Fragment,{})]})]})}function J(e){return Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{sm:"11",children:[Object(u.jsx)(R,Object(d.a)({},e.model)),Object(u.jsx)(k,{abilities:e.model.abilities,phase:"morale"})]}),Object(u.jsx)(p.a,{sm:"1",className:"px-1",children:Object(u.jsx)(C,{name:"Ld",value:"".concat(e.model.stats.leadership)})})]})}var $=n(408);function Q(e){return Object(u.jsx)($.a,{variant:"dark",className:"d-print-none",onClick:e.onClose,children:"Close"})}function X(e){var t=w.a.sortBy(e.models,(function(e){return[null==e.category,e.category,e.type]})),n=w.a.filter(t,(function(e){return e.selected>0}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h1",{style:{background:"#FF6F2D",color:"white",padding:"10px",width:"100%",display:"flex"},children:[Object(u.jsx)(p.a,{children:e.name}),Object(u.jsx)(p.a,{style:{flexGrow:0,textAlign:"right"},children:Object(u.jsxs)("small",{children:[w.a.sumBy(e.models,(function(e){return e.selected*e.points})),"pts"]})}),Object(u.jsx)(p.a,{style:{flexGrow:0,textAlign:"right"},children:Object(u.jsx)(Q,{onClose:e.onClose})})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"",highlight:!0}),t.map((function(t){return Object(u.jsx)(B,{model:t,onSelectionChanged:e.onSelectionChanged})}))]}),w.a.some(n,I)&&Object(u.jsx)(g,{name:"scouting",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"scouting",highlight:!0}),n.map((function(e){return I(e)&&Object(u.jsx)(V,{model:e})}))]})}),w.a.some(n,U)&&Object(u.jsx)(g,{name:"deployment",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"deployment",highlight:!0}),n.map((function(e){return U(e)&&Object(u.jsx)(E,{model:e})}))]})}),w.a.some(n,H)&&Object(u.jsx)(g,{name:"initiative",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"initiative",highlight:!0}),n.map((function(e){return H(e)&&Object(u.jsx)(G,{model:e})}))]})}),Object(u.jsx)(g,{name:"movement",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"movement",highlight:!0}),n.map((function(e){return Object(u.jsx)(M,{model:e})}))]})}),w.a.some(n,K)&&Object(u.jsx)(g,{name:"psychic",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"psychic",highlight:!0}),n.map((function(e){return K(e)&&Object(u.jsx)(q,{model:e})}))]})}),Object(u.jsx)(g,{name:"shooting",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"shooting",highlight:!0}),n.map((function(e){return Object(u.jsx)(z,{model:e})}))]})}),Object(u.jsx)(g,{name:"fight",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"fight",highlight:!0}),n.map((function(e){return Object(u.jsx)(Y,{model:e})}))]})}),Object(u.jsx)(g,{name:"morale",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{abilities:e.forceRules,phase:"morale",highlight:!0}),n.map((function(e){return Object(u.jsx)(J,{model:e})}))]})})]})}var Z=n(38),ee=n.n(Z);function te(e){var t=[e.children];return t=ee()(t,"\u25b2",(function(){return Object(u.jsx)("span",{className:"triangle",children:"\u25b2"})})),t=ee()(t,"\u25cf",(function(){return Object(u.jsx)("span",{className:"circle",children:"\u25cf"})})),t=ee()(t,"\u25cb",(function(){return Object(u.jsx)("span",{className:"circle",children:"\u25cf"})})),t=ee()(t,"\u2b24",(function(){return Object(u.jsx)("span",{className:"circle",children:"\u25cf"})})),t=ee()(t,"\u2b1b",(function(){return Object(u.jsx)("span",{className:"square",children:"\u25a0"})})),t=ee()(t,"\u25a0",(function(){return Object(u.jsx)("span",{className:"square",children:"\u25a0"})})),t=(t=ee()(t,"\u2b1f",(function(){return Object(u.jsx)("span",{className:"pentagon",children:"\u2b1f"})}))).filter((function(e){return""!==e})),Object(u.jsx)(u.Fragment,{children:t})}function ne(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Weapon"}),Object(u.jsx)("th",{children:"Attacks"}),Object(u.jsx)("th",{children:"Hit"}),Object(u.jsx)("th",{children:"Damage"}),Object(u.jsx)("th",{children:"Rules"}),Object(u.jsx)("th",{children:"Critical"})]})}),Object(u.jsx)("tbody",{children:e.weapons.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.attacks}),Object(u.jsxs)("td",{children:[e.hit,"+"]}),Object(u.jsxs)("td",{children:[e.damage," / ",e.criticalDamage]}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.specialRules})}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.criticalRules})})]})}))})]})})}function ae(e){return 0===e.equipment.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(x.a,{border:"secondary",bg:"light",children:[Object(u.jsx)(x.a.Header,{style:{background:"rgba(0, 0, 0, 0.05)"},as:"h4",children:"Equipment"}),Object(u.jsx)(x.a.Body,{children:e.equipment.map((function(e){return Object(u.jsxs)("p",{children:[Object(u.jsxs)("strong",{children:[e.name," (",e.cost," EP)"]}),e.description?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("strong",{children:": "}),Object(u.jsx)(te,{children:e.description})]}):Object(u.jsx)(u.Fragment,{})]})}))})]})}function se(e){return Object(u.jsx)(u.Fragment,{children:w.a.sortBy(e.actions,["name"]).map((function(e){return Object(u.jsxs)(x.a,{border:"primary",bg:"light",children:[Object(u.jsx)(x.a.Header,{style:{background:"#FF6F2D",color:"white"},as:"h4",children:e.name}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(te,{children:e.description})})]})}))})}function re(e){return Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Operative"}),Object(u.jsx)("th",{children:"Wound Track"})]})}),Object(u.jsx)("tbody",{children:e.names.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t}),Object(u.jsx)("td",{children:"\u25a1 ".repeat(e.wounds)})]})}))})]})}var ie=function(e){return 0===e.abilities.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(x.a,{border:"secondary",bg:"light",children:[Object(u.jsx)(x.a.Header,{style:{background:"rgba(0, 0, 0, 0.05)"},as:"h4",children:"Abilities"}),Object(u.jsx)(x.a.Body,{children:w.a.sortBy(e.abilities,["name"]).map((function(e){return Object(u.jsxs)("p",{children:[Object(u.jsxs)("strong",{children:[e.name,": "]}),Object(u.jsx)(te,{children:e.description})]})}))})]})},ce=n(413);function oe(e){return Object(u.jsxs)(x.a,{className:e.datacard.operativeNames.length>0?"included":"excluded",children:[Object(u.jsx)(R,{name:"",type:e.datacard.name,selected:e.datacard.operativeNames.length,count:e.datacard.operativeNames.length,uuid:Object(ce.a)(),category:e.datacard.leader?"Specialist":"",specialism:e.datacard.leader?"Leader":""}),Object(u.jsx)(x.a.Body,{children:Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{sm:"10",children:[Object(u.jsx)(re,{wounds:e.datacard.stats.wounds,names:e.datacard.operativeNames}),Object(u.jsx)(ne,{weapons:e.datacard.weapons}),Object(u.jsxs)(m.a,{children:[Object(u.jsxs)(p.a,{children:[Object(u.jsx)(ie,{abilities:e.datacard.abilities}),0===e.datacard.actions.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(ae,{equipment:e.datacard.equipment})]}),Object(u.jsx)(p.a,{children:0===e.datacard.actions.length?Object(u.jsx)(ae,{equipment:e.datacard.equipment}):Object(u.jsx)(se,{actions:e.datacard.actions})})]})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[Object(u.jsx)(C,{name:"M",value:"".concat(e.datacard.stats.movement,"\u25cf")}),Object(u.jsx)(C,{name:"GA",value:"".concat(e.datacard.stats.groupActivation)}),Object(u.jsx)(C,{name:"DF",value:"".concat(e.datacard.stats.defence)})]}),Object(u.jsxs)(p.a,{sm:"1",className:"px-1",children:[Object(u.jsx)(C,{name:"W",value:"".concat(e.datacard.stats.wounds)}),Object(u.jsx)(C,{name:"APL",value:"".concat(e.datacard.stats.actionPointLimit)}),Object(u.jsx)(C,{name:"Sv",value:"".concat(e.datacard.stats.save,"+")})]})]})}),Object(u.jsx)(D,{faction:e.datacard.faction?"".concat(e.datacard.faction," \ud83d\udc80"):null,keywords:e.datacard.keywords})]})}function le(e){return 0===e.rules.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(y.a,{striped:!0,bordered:!0,children:Object(u.jsx)("tbody",{children:w.a.sortBy(e.rules,["name"]).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:e.name})}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.description})})]})}))})})}function de(e){return Object(u.jsx)(m.a,{xs:1,sm:2,md:3,className:"g-4",children:w.a.sortBy(e.powers,["name"]).map((function(e){return Object(u.jsx)(p.a,{children:Object(u.jsxs)(x.a,{border:"info",bg:"light",children:[Object(u.jsx)(x.a.Header,{style:{background:"#17a2b8",color:"white"},as:"h4",children:e.name}),Object(u.jsxs)(x.a.Body,{children:[Object(u.jsx)("p",{children:Object(u.jsx)(te,{children:e.description})}),e.weapon?Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"A"}),Object(u.jsx)("th",{children:"WS"}),Object(u.jsx)("th",{children:"D"}),Object(u.jsx)("th",{children:"SR"}),Object(u.jsx)("th",{children:"!"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.weapon.attacks}),Object(u.jsxs)("td",{children:[e.weapon.hit,"+"]}),Object(u.jsxs)("td",{children:[e.weapon.damage,"/",e.weapon.criticalDamage]}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.weapon.specialRules})}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.weapon.criticalRules})})]})})]}):Object(u.jsx)(u.Fragment,{})]})]})})}))})}function he(e){return Object(u.jsx)(p.a,{children:e.ploys.map((function(e){return Object(u.jsxs)(x.a,{border:"info",bg:"light",children:[Object(u.jsxs)(x.a.Header,{style:{background:"#17a2b8",color:"white",display:"flex",justifyContent:"space-between"},as:"h4",children:[Object(u.jsx)("span",{children:e.name}),Object(u.jsxs)("span",{children:[e.cost,"CP"]})]}),Object(u.jsxs)(x.a.Body,{children:[Object(u.jsx)("p",{children:Object(u.jsx)(te,{children:e.description})}),e.weapon?Object(u.jsxs)(y.a,{striped:!0,bordered:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"A"}),Object(u.jsx)("th",{children:"WS"}),Object(u.jsx)("th",{children:"D"}),Object(u.jsx)("th",{children:"SR"}),Object(u.jsx)("th",{children:"!"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.weapon.attacks}),Object(u.jsxs)("td",{children:[e.weapon.hit,"+"]}),Object(u.jsxs)("td",{children:[e.weapon.damage,"/",e.weapon.criticalDamage]}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.weapon.specialRules})}),Object(u.jsx)("td",{children:Object(u.jsx)(te,{children:e.weapon.criticalRules})})]})})]}):Object(u.jsx)(u.Fragment,{})]})]})}))})}function je(e){return Object(u.jsx)(m.a,{xs:1,sm:2,md:3,className:"g-4",children:e.tacOps.map((function(e){return Object(u.jsx)(p.a,{children:Object(u.jsxs)(x.a,{border:"info",bg:"light",children:[Object(u.jsxs)(x.a.Header,{style:{background:"#17a2b8",color:"white",display:"flex",justifyContent:"space-between"},as:"h4",children:[Object(u.jsxs)("span",{children:["Tac Op ",e.id]}),Object(u.jsx)("span",{children:e.name})]}),Object(u.jsxs)(x.a.Body,{children:[Object(u.jsx)("p",{children:e.revealTime}),Object(u.jsx)("p",{children:Object(u.jsx)("ul",{children:e.description.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(te,{children:e})})}))})}),e.action&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Friendly operatives an perform the following mission action:"}),Object(u.jsx)("p",{children:Object(u.jsxs)(x.a,{border:"primary",bg:"light",children:[Object(u.jsxs)(x.a.Header,{style:{background:"#FF6F2D",color:"white",display:"flex",justifyContent:"space-between"},as:"h4",children:[Object(u.jsx)("span",{children:e.action.name}),Object(u.jsxs)("span",{children:[e.action.cost,"AP"]})]}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(te,{children:e.action.description})})]})})]})]})]})})}))})}var ue=n(82),be=n.n(ue),me={strategicPloys:[{name:"Overcharge lasguns",cost:1,description:"Until the end of the Turning Point, change the profile of lasguns that friendly VETERAN GUARDSMAN\ud83d\udc80 operatives are equipped with to include the following:",weapon:{name:"Overcharged lasgun",melee:!1,attacks:4,hit:4,damage:2,criticalDamage:3,specialRules:"AP1, Hot",criticalRules:""}},{name:"Take cover",cost:1,description:"Until the end of the Turning Point, each time a shooting attack is made against a friendly VETERAN GUARDSMAN\ud83d\udc80 operative, if it is in Cover, improve it's Save characteristic by 1 for that shooting attack."},{name:"Into the breach",cost:1,description:"Each friendly VETERAN GUARDSMAN\ud83d\udc80 operative within your drop zone can perform a free Dash action, but must finish that move closer to the enemy's drop zone."},{name:"Clear the line",cost:1,description:"Until the end of the Turning Point, each time a friendly VETERAN GUARDSMAN\ud83d\udc80 operative fights in combat,\n                  before rolling your attack dice for that combat, you can retain one as a successfull normal hit withour rolling it."}],tacticalPloys:[{name:"Inspirational leadership",cost:1,description:"Use this Tactical Ploy during a VETERAN GUARDSMAN\ud83d\udc80 LEADER operative's operation. That operative issues a\n                  Guardsman Order to all friendly VETERAN GUARDSMAN\ud83d\udc80 operatives within \u2b1f of and visible to it."},{name:"In death, atonement",cost:1,description:"Use this Tactical Ploy when a ready friendly VETERAN GUARDSMAN\ud83d\udc80 operative is incapacitated.\n                  That operative is not removed from the killzone until the end of your next activation and does not count as being injured."},{name:"Combined arms",cost:1,description:"Use this Tactival Ploy after rolling your attack dice for a shooting attack made by a friendly VETERAN GUARDSMAN\ud83d\udc80 operative.\n                  If the target of that attack is an enemy operative that was targeted by another friendly VETERAN GUARDSMAN\ud83d\udc80 operative with a\n                  shooting attack during that Turning point, you can re-roll any or all of your attack dice for that shooting attack."}],tacOps:[{id:1,name:"Boots on the ground",revealTime:"You can reveal this Tac Op at the end of any Turning Point",description:["At the end of that Turning Point, if there are more friendly operatives than enemy operatives within \u2b1f of your drop zone, and there are more friendly\n     operatives than enemy operatives within \u2b1f of your opponent's drop zone, you score 1VP.","If you achieve the first condition at the end of any subsequent Turning Points, you score 1VP."]},{id:2,name:"Stand fast",revealTime:"You can reveal this Tac Op in the Reveal Tac Ops step of any Turning Point",description:["At the end of any Turning Point, if friendly operatives control two or more objective markers, and frierndly operatives control more objective markers than enemy operatives, you score 1VP.","If you achieve the first condition at the end of any subsequent Turning Point, you score an additional 1VP."]},{id:3,name:"Glory in death",revealTime:"Reveal this Tac Op at the end of the battle",description:["If more friendly operatives were incapacitated than enemy operatives, but you scored more victory points from the mission objective, you score 2 VPs."]}]},pe={strategicPloys:[{name:"Sssshhhh!",cost:1,description:"Friendly KOMMANDO\ud83d\udc80 operatives that are not within Line of Sight of enemy operatives, or have a Conceal order and are more than \u2b1f from enemy operatives,\n                  can immediately perform a free Dash action. You can only use this strategic ploy once."},{name:"Dakka! Dakka! Dakka!",cost:1,description:"Until the end of the Turning Point, each time a friendly KOMMANDO\ud83d\udc80 operative makes a shooting attack, in the Roll Attack Dice step of that shooting attack,\n                  if you retain any critical hits, you can select one of your failed hits to be retained as a successfull normal hit."},{name:"Waaagh!",cost:1,description:"Until the end of the Turning Point, each time a friendly KOMMANDO\ud83d\udc80 operative fights in combat, in a Roll Attack Dice step of that combat,\n                  when you would retain two or more normal hits, you can select one of those hits to be retained as a critical hit instead."},{name:"Skulk about",cost:1,description:"Until the end of the Turning Point, each time a shooting attack is made against a friendly KOMMANDO\ud83d\udc80 operative, before rolling defence dice for that shooting attack,\n                  if it has a Conceal order, you can retain one as a successfull normal save without rolling it."}],tacticalPloys:[{name:"Just a scratch",cost:1,description:"Use this tactical Ploy in the Resolve Successfull Hits step of a shooting attack or combat, when damage would beinflicked on a friendly KOMMANDO\ud83d\udc80 operative,\n                  (excluding KOMMANDO GROT operatives), from an attack dice. Ignore the damage inflicted from that attack dice."},{name:"Krump 'em!",cost:1,description:"Use this Tactical Ploy at the end of a Firefights phase. Select one friendly KOMMANDO\ud83d\udc80 operative. It can perform a free Fight action."},{name:"Sneaky git",cost:1,description:"Use this Tactical Ploy in the Set Up Operatives step of the mission sequence. Select one friendly KOMMANDO\ud83d\udc80 operative (excluding BOMB SQUIG operatives).\n                  That operative can be set up with a Conceal order anywhere on the battlefield that is within \u25b2 of Heavy terrain and more than \u2b1f from enemy operatives and the enemy drop zone."}],tacOps:[{id:1,name:"Blow it up!",revealTime:"You can reveal this Tac Op in the Target Reveal step of the first Turning Point.\n                 Your opponent selects one terrain feature that includes any parts with the Heavy trait to be their bulwark.",description:["If a friendly operative performs the 'Blow it up!' action, you score 2VPs"],action:{name:"Blow it up!",cost:2,description:"An operative can perform this action while within \u25b2 of your opponent's bulwark. An operative cannot perform this action while within \u2b24 of enemy operatives.\n                    Other than a Dash action, an operative cannot perform any other action during an activation in which it would perform this action."}},{id:2,name:"Shokk taktiks",revealTime:"Reveal this TacOp at the end of the first Turning Point",description:["If any enemy operatives were incapacitated during the first Turning Point, you score 1 VP.","At the end of the second Turning Point, if friendly operatives control more objective markers than enemy operatives control, you score 1 VP"]},{id:3,name:"Get stick in!",revealTime:"You can reveal this Tac Op in the Reveal Tac Ops step of any turning Point",description:["At the end of any turning Point (excluding the fourth), if three or more friendly operatives are within \u2b1f of your opponents drop zone, you score 1 VP.","If you achieve the first condition at the end of any subsequent Turning Points (excluding the fourth), you score 1 VP."]}]},xe=function(e){switch(e){case"Veteran Guardsmen":return me;case"Kommando":return pe;default:return null}};function Oe(e){var t={background:"#FF6F2D",color:"black",padding:"10px",width:"100%",display:"flex"},n=function(e){var t=w.a.groupBy(e,(function(e){return be()().hash({datacard:e.datacard,weapons:e.weapons,equipment:e.equipment})}));return w.a.map(t,(function(e,t){return Object(d.a)(Object(d.a)({},e[0]),{},{name:e[0].datacard,operativeNames:e.map((function(e){return e.name})).sort()})}))}(e.operatives),a=xe(e.faction);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h1",{style:t,children:[Object(u.jsx)(p.a,{children:e.name}),Object(u.jsx)(p.a,{style:{flexGrow:0,textAlign:"right"},children:Object(u.jsx)(Q,{onClose:e.onClose})})]}),w.a.orderBy(n,["leader","name"],["desc","asc"]).map((function(e){return Object(u.jsx)(oe,{datacard:e})})),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{style:Object(d.a)(Object(d.a)({},t),{},{breakBefore:"always"}),as:"h2",children:"Rules"}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(le,{rules:w.a.uniqBy(w.a.flatten(n.map((function(e){return e.rules}))),"name")})})]}),e.psychicPowers.length>0&&Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{style:Object(d.a)({},t),as:"h2",children:"Psychic Powers"}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(de,{powers:e.psychicPowers})})]}),a&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[Object(u.jsxs)(x.a,{style:{width:"100%",marginRight:"5px"},children:[Object(u.jsx)(x.a.Header,{style:Object(d.a)({},t),as:"h2",children:"Strategic Ploys"}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(he,{ploys:a.strategicPloys})})]}),Object(u.jsxs)(x.a,{style:{width:"100%",marginLeft:"5px"},children:[Object(u.jsx)(x.a.Header,{style:Object(d.a)({},t),as:"h2",children:"Tactical Ploys"}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(he,{ploys:a.tacticalPloys})})]})]}),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Header,{style:Object(d.a)({},t),as:"h2",children:"Tac Ops"}),Object(u.jsx)(x.a.Body,{children:Object(u.jsx)(je,{tacOps:a.tacOps})})]})]})]})}var fe=n(409),ge=n(66),ye=n(52),ve={scouting:[/ scouting /],deployment:[/ before the first battle round /,/ set up /,/ cult ambush /],initiative:[/ start of each battle round /,/ beginning of each battle round /,/ at the beginning of the battle round /],movement:[/ movement phase /,/ climbs? /,/ normal move /,/ advances? /,/ charges? /,/ falls? back /,/ reacts? /,/ overwatch /,/ retreats? /,/ fly /,/ after this model has charged /,/ from reserves? /,/ can move across /,/ setup within /],psychic:[/ psychic /,/ deny the witch /,/ perils of the warp /,/ psychich /],shooting:[/ shooting phase /,/ shots? /,/ ballistic skill /,/ ranged /,/ range characteristic /,/ half range /,/ long range /,/ short range /,/ grenades? /,/ shoots? /,/ shooting /,/ fire[sd]+ /,/ firing /,/ obscured /,/ obcured /,/ order(ed)? /,/ voice of command /,/ invulnerable save /,/ demolition charges? /,/ liberator autostubs /,/ obscurred /,/ look out sir! /,/ pistol /,/ heavy weapons?/,/ add [0-9] to saving throws /],fight:[/ fight phase /,/ fights? /,/ weapon skill /,/ attacks characteristics? /,/ strength characteristics? /,/ piles? in /,/ consolidates? /,/ melee /,/ close combat /,/ death to the false emperor /,/ additional attacks? /,/ invulnerable save /,/ look out sir! /,/ intervening terrain /,/ terrain that is between the two models /,/ damage characteristic is [0-9] in a battle round in which this model charged /,/ add [0-9] to saving throws /],morale:[/ nerve /,/ leadership /]},we=[/ weapon /,/ hit rolls? /,/ attack(s|ing)? /,/ saves? /,/ saving throws? /,/ injury rolls? /,/ wound rolls? /,/ loses? a wound /,/ fall(ing)? damage /,/ the bearer is taken out of action /,/ toughness characteristic /,/ suffers? a mortal wound /,/ taken out of action /,/ this weapon/,/ reduced to 0 wounds /],ke={deployment:[/ from reserve /],movement:[/ previous movement phase /,/ preceding movement phase /,/ if the firing model moved /,/ moved during the movement phase /,/ round in which it charges or is charged /,/ in which it made a successful charge /,/ even if it fell back in the movement phase /,/ model that can fly /,/ as if it were the movement phase /,/ stunned /,/ penalty for moving /,/ as if the model had remained stationary /,/ demolition charge /],psychic:[/ after all of this weapon's attacks have been resolved /],shooting:[/ when (it|this model) fires overwatch /,/ invulnerable save (against attacks made )?in the fight phase /,/ as if it were your shooting phase /,/ tactical support turret /,/ out of action in the shooting phase /,/ mordian /],fight:[/ the ordered model immediately fights /,/ shots equal to its attacks characteristic /,/ stunned /,/ target enemies at [0-9]{1,2}" or less /,/ within half range /,/ tactical support turret /],morale:[/ target model's leadership /,/ weapon against a model which has a leadership /,/ subtract 1 from its leadership /]},Se=function(e){var t=" "+e.toLowerCase().replace(/[.,)(]/g,"")+" ",n=[];return w.a.forIn(ve,(function(e,a){w.a.some(e,(function(e){return e.test(t)}))&&n.push(a)})),n.includes("fight")||n.includes("shooting")||w.a.some(we,(function(e){return e.test(t)}))&&n.push("fight","shooting"),w.a.forIn(ke,(function(e,a){w.a.some(e,(function(e){return e.test(t)}))&&w.a.remove(n,(function(e){return e===a}))})),n},Ae=function(e){var t=[/models with this ability have a ([1-6]{1})\+ invulnerable save/,/has a ([1-6]{1})\+ invulnerable save($|\.|,| and| instead of)/,/has an invulnerable save of ([1-6]{1})\+/],n=w.a.map(e,(function(e){return w.a.min(w.a.map(t,(function(t){var n=e.description.match(t);return n?parseInt(n[1]):null})))}));return w.a.min(n)},Ne=ye.useNamespaces({roster:"http://www.battlescribe.net/schema/rosterSchema"}),Pe=function(e,t){var n=Ne("roster:profiles/roster:profile[@typeName='Model']//roster:characteristic[@name='".concat(e,"']"),t);return n.length>0?parseInt(n[0].childNodes[0].nodeValue):""},Te=function(e,t,n){var a=Ne("roster:characteristics/roster:characteristic[@name='".concat(e,"']"),t);return a.length>0?n?parseInt(a[0].childNodes[0].nodeValue):a[0].childNodes[0].nodeValue:""},Re=function(e){var t=Ne(".//roster:costs/roster:cost[@name='pts']",e);return w.a.sumBy(t,(function(e){return parseInt(e.getAttribute("value"))}))},Fe=function(e){var t=Ne("roster:description",e)[0].childNodes[0].nodeValue;return{name:e.getAttribute("name"),description:t,phases:Se(t)}},De=function(e){var t=Ne(".//roster:characteristic[@name='Description']",e)[0].childNodes[0].nodeValue;return{name:e.getAttribute("name"),description:t,phases:Se(t)}},Be=function(e){var t=Ne(".//roster:characteristic[@name='Ability']",e)[0].childNodes[0].nodeValue;return{name:e.getAttribute("name"),description:t,phases:Se(t)}},Ce=function(e){var t=Ne(".//roster:characteristic[@name='Psychic Power']",e)[0].childNodes[0].nodeValue,n=t.match(/warp charge value of ([0-9]+)\.(.*)/),a=null;return n.length>2&&(a=parseInt(n[1]),t=n[2]),{name:e.getAttribute("name"),charge:a,description:t}},Me=function(e,t){var n=w.a.map(e,(function(e){return e.abilities})).concat(w.a.map(t,(function(e){return e.description}))),a=w.a.map(n,(function(e){return function(e){var t=[/if a model/,/if the bearer/,/unless/];return w.a.sum(w.a.map([/Add ([1-9]{1}) to this model's Attacks characteristic/,/ ([1-9]|an|one|two) additional attack/,/(one) \(and only one\) attack with this weapon./],(function(n){var a=e.match(n);return a?w.a.some(t,(function(t){return t.test(e)}))?0:"an"===a[1]||"one"===a[1]?1:"two"===a[1]?2:parseInt(a[1]||a[2]):0})))}(e)}));return w.a.sum(a)},Ve=function(e){var t=Ne(".//roster:profile[@typeName='Wargear']",e).map(Be),n=Ne("roster:selections/roster:selection[roster:selections/roster:selection/roster:profiles/roster:profile/@typeName='Ability']",e),a=Ne(".//roster:profile[@typeName='Ability']",e).map(De).concat(t),s={movement:Pe("M",e),weapon_skill:Pe("WS",e),ballistic_skill:Pe("BS",e),strength:Pe("S",e),toughness:Pe("T",e),wounds:Pe("W",e),attacks:Pe("A",e),leadership:Pe("Ld",e),save:Pe("Sv",e),invulnerable_save:Ae(a)},r={name:"Bare fists",range:"-",type:"Melee",strength:s.strength,armourPiercing:0,damage:1,abilities:"Default close combat weapon available to all models"},i=Ne(".//roster:profile[@typeName='Weapon']",e).map((function(e){return function(e,t){var n=Te("S",e,!1);"User"===n&&(n=t);var a=/x([0-9]+)/i.exec(n);a&&(n=t*parseInt(a[1])),(a=/\+([0-9]+)/i.exec(n))&&(n=t+parseInt(a[1]));var s=Te("Type",e,!1);return"Melee"!==s&&(s=s.split(" ").slice(0,-1).join(" ")),{name:e.getAttribute("name"),range:Te("Range",e,!0),type:s,shots:Te("Type",e,!1).split(" ").slice(-1)[0],strength:n,armourPiercing:Te("AP",e,!0),damage:Te("D",e,!1),abilities:Te("Abilities",e,!1)}}(e,s.strength)})).concat([r]);s.additional_attacks=Me(i,a);var c=Ne("roster:selections/roster:selection/roster:profiles/roster:profile[@typeName='Psychic Power']",e).map(Ce),o=Ne("roster:categories/roster:category[@primary='true']",e)[0].getAttribute("name"),l=Ne("roster:categories/roster:category[@primary='false' and starts-with(@name,'Faction: ')]",e),h=Ne("roster:categories/roster:category[@primary='false' and not(starts-with(@name,'Faction: '))]",e).map((function(e){return e.getAttribute("name")}));w.a.remove(h,(function(e){return"Model"===e}));var j={name:e.getAttribute("customName"),type:e.getAttribute("name"),category:"Non-specialist"===o?null:o,stats:s,abilities:a,weapons:i,wargear:t,psychicPowers:c,specialism:n.length>0?n[0].getAttribute("name"):null,faction:l.length>0?l[0].getAttribute("name").split(": ",2)[1]:null,keywords:h,points:Re(e)};return Object(d.a)(Object(d.a)({},j),{},{hash:be()([]).hash(j)})},Ie=ye.useNamespaces({bs:"http://www.battlescribe.net/schema/rosterSchema"}),Ee=function(e,t){var n=Ie("bs:profiles/bs:profile[@typeName='Operative']//bs:characteristic[@name='".concat(e,"']/text()"),t,!0);return n?parseInt(n.toString()):0},Ue=function(e){return{name:Ie("string(@name)",e,!0).toString(),melee:Ie("string(@name)",e,!0).toString().startsWith("\u2694"),attacks:parseInt(Ie(".//bs:characteristic[@name='A']/text()",e,!0).toString()),hit:parseInt(Ie(".//bs:characteristic[@name='WS/BS']/text()",e,!0).toString()),damage:parseInt(Ie(".//bs:characteristic[@name='D']/text()",e,!0).toString().split("/")[0]),specialRules:(Ie(".//bs:characteristic[@name='SR']/text()",e,!0)||"-").toString(),criticalDamage:parseInt(Ie(".//bs:characteristic[@name='D']/text()",e,!0).toString().split("/")[1]),criticalRules:(Ie(".//bs:characteristic[@name='!']/text()",e,!0)||"-").toString()}},Ge=function(e){return{name:Ie("string(@name)",e,!0).toString(),description:(Ie(".//bs:characteristic[@name='Ability']/text()",e,!0)||"-").toString(),phases:[]}},He=function(e){var t=Ie("string(@name)",e,!0).toString(),n=Ie("..//bs:profile[@typeName='Weapons']",e,!0);return{name:t,description:(Ie(".//bs:characteristic[@name='Effect']/text()",e,!0)||"-").toString(),weapon:n?Ue(n):null}},We=function(e){return{name:Ie("string(@name)",e,!0).toString(),description:(Ie(".//bs:characteristic[@name='Unique Action']/text()",e,!0)||"-").toString(),cost:1}},qe=function(e){var t=Ie(".//bs:characteristic[@name='Equipment']/text()",e,!0);return{name:Ie("string(@name)",e,!0).toString(),cost:parseInt(Ie("string(.//bs:cost/@value)",e,!0).toString()),description:t?t.toString():null}},Ke=function(e){return{name:Ie("string(@name)",e,!0).toString(),description:(Ie(".//bs:description/text()",e,!0)||"-").toString(),phases:[]}},_e=["Brood Coven","Cadre Mercenary","Chaos Daemons","Commorrite","Craftworld","Death Guard","Ecclesiarchy","Forge World","Greenskin","Grey Knight","Hive Fleet","Hunter Cadre","Imperial Guard","Kommando","Space Marine","Talons of the Emperor","Thousand Sons","Tomb World","Traitor Space Marine","Troupe","Veteran Guardsman"],ze=function(e){var t=Ie(".//bs:categories/bs:category[@primary='false']/@name",e).map((function(e){return(e.textContent||"").replace("\ud83d\udc80","")})),n=w.a.intersection(t,_e).pop()||t.find((function(e){return e===e.toUpperCase()}))||null,a=w.a.remove(t,(function(e){return e!==n}));return{datacard:Ie("string(@name)",e,!0).toString(),name:Ie("string(@customName)",e,!0).toString(),stats:{movement:Ee("M",e),actionPointLimit:Ee("APL",e),groupActivation:Ee("GA",e),defence:Ee("DF",e),save:Ee("SV",e),invulnerable_save:null,wounds:Ee("W",e)},weapons:Ie(".//bs:profile[@typeName='Weapons']",e).map(Ue),equipment:Ie(".//bs:selection[(@type='upgrade') and (.//bs:cost/@value!=\"0.0\")]",e).map(qe),abilities:Ie(".//bs:profile[@typeName='Abilities']",e).map(Ge),actions:Ie(".//bs:profile[@typeName='Unique Actions']",e).map(We),rules:Ie(".//bs:rules/bs:rule",e).map(Ke),leader:"Leader"===Ie("string(.//bs:categories/bs:category[@primary='true']/@name)",e,!0).toString(),keywords:a,faction:n}},Le=n(204),Ye=n.n(Le),Je=n(205),$e=ye.useNamespaces({bs:"http://www.battlescribe.net/schema/rosterSchema"}),Qe=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P"===t.charAt(0)){e.next=4;break}return e.abrupt("return",t);case 4:return n=new Ye.a,e.next=7,n.loadAsync(t);case 7:return a=e.sent,e.abrupt("return",a.file(/[^/]+\.ros/)[0].async("string"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){var t=(new Je.DOMParserImpl).parseFromString(e);switch($e("/bs:roster/@gameSystemId",t,!0).nodeValue){case"a467-5f42-d24c-6e5b":return function(e){var t,n=[],a=Ne("/roster:roster",e)[0].getAttribute("name"),s=Ne("//roster:force/roster:rules/roster:rule",e).map(Fe),r=Object(ge.a)(Ne("//roster:force/roster:categories/roster:category",e));try{for(r.s();!(t=r.n()).done;){var i,c=t.value.getAttribute("entryId"),o=Object(ge.a)(Ne("//roster:selection[@type='model' and roster:categories/roster:category/@entryId='".concat(c,"']"),e));try{for(o.s();!(i=o.n()).done;){var l=i.value;n.push(Ve(l))}}catch(j){o.e(j)}finally{o.f()}}}catch(j){r.e(j)}finally{r.f()}var h=w.a.groupBy(n,(function(e){return e.hash}));return{system:"KillTeam2018",name:a,forceRules:s,models:w.a.map(h,(function(e){return Object(d.a)(Object(d.a)({},e[0]),{},{uuid:Object(ce.a)(),count:e.length,selected:e.length})}))}}(t);case"3b7e-7dab-f79f-2e74":return function(e){var t,n=[],a=Ie("string(/bs:roster/@name)",e,!0).toString(),s=Ie("string(//bs:force/@catalogueName)",e,!0).toString(),r=Object(ge.a)(Ie("//bs:selection[@type='model']",e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(ze(i))}}catch(u){r.e(u)}finally{r.f()}for(var c=Ie(".//bs:profile[@typeName='Psychic Power']",e).map(He),o=["","\u2161","\u2162","\u2163","\u2164","\u2165","\u2166","\u2167","\u2168","\u2169","\u2169\u2160","\u2169\u2161","\u2169\u2162","\u2169\u2163","\u2169\u2164","\u2169\u2165","\u2169\u2166","\u2169\u2167","\u2169\u2168","\u2169\u2169"],l={},d=0,h=n;d<h.length;d++){var j=h[d];""===j.name&&(l[j.datacard]||(l[j.datacard]=0),j.name=j.datacard+" "+o[l[j.datacard]++])}return{system:"KillTeam2021",name:a,faction:s,operatives:n,psychicPowers:c}}(t);default:throw new Error("Unsupported game system!")}},Ze=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.abrupt("return",new Promise((function(e,a){n.onerror=function(){n.abort(),a(new DOMException("Problem parsing input file."))},n.onloadend=Object(o.a)(c.a.mark((function t(){var a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.result,t.next=3,Qe(a);case 3:s=t.sent,e(Xe(s));case 5:case"end":return t.stop()}}),t)}))),n.readAsBinaryString(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function et(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],r=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t[0]);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){s(null)},d=function(e){return"KillTeam2018"===e.system};return Object(u.jsxs)(fe.a,{fluid:"lg",children:[null===n?Object(u.jsx)(f,{onUpload:r}):Object(u.jsx)(u.Fragment,{}),n&&d(n)?Object(u.jsx)(X,{name:n.name,models:n.models,onClose:i,forceRules:n.forceRules,onSelectionChanged:function(e,t){n&&d(n)&&s(Object.assign({models:n.models.map((function(n){return n.uuid!==e?n:Object.assign(n,{selected:t})}))},n))}}):Object(u.jsx)(u.Fragment,{}),n&&function(e){return"KillTeam2021"===e.system}(n)?Object(u.jsx)(Oe,{name:n.name,operatives:n.operatives,psychicPowers:n.psychicPowers,faction:n.faction,onClose:i}):Object(u.jsx)(u.Fragment,{})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(411).a({dsn:"https://6fe3e632b45a44c086068e13f3b1a783@o464596.ingest.sentry.io/5473956"}),r.a.render(Object(u.jsx)(et,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[398,1,2]]]);
//# sourceMappingURL=main.75fae915.chunk.js.map